(let insert
	(\ [value, []] [value])
	(\ [value, (Cons x xs)] (if (<= value x) (Cons value (Cons x xs)) (Cons x (insert value xs))))
)

(let filter
  (\ [_, []] [])
	(\ [fun, (Cons x xs)] (if (fun x) (Cons x (filter fun xs)) (filter fun xs)))
)

(let sort
	(\ [[]] [])
	(\ [(Cons x xs)] (insert x (sort xs)))
)

(let qsort
  (\ [ [] ] [])
	(\ [ (Cons x xs) ] 
			(++ 
			  (Cons x (filter (== x) xs))
				(qsort (filter (< x) xs))
		)
	)
)

(main
	(var x [1, 9, 5, 3, 20, 2])
	(var res (qsort x))
	(print res)
)

